@model Domain.Models.PedidoC.mPedidoC

@{ 
    ViewBag.Title = "Pedido cliente";
}

<div class="row">
    <div class="col-md-12">
        <div class="col-md-4">
            <div class="box box-info flat">
                <div class="box-header with-border">
                    <h3 class="box-title">Pedido</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div>
                        @Html.ValidationSummary(true, "", new { @class = "alert alert-danger alert-dismissable", style = "margin:20px;" })
                    </div>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.clienteNombre):</strong>
                                @Html.DisplayFor(x => x.clienteNombre)
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.sEstado):</strong>
                                @Html.DisplayFor(x => x.sEstado)
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.sForma_pago):</strong>
                                @Html.DisplayFor(x => x.sForma_pago)
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.Fecha_A):</strong>
                                @Html.DisplayFor(x => x.Fecha_A)
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.Peso):</strong>
                                <span id="spPeso">@Html.DisplayFor(x => x.Peso)</span> Kg.
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.Importe):</strong>
                                <span id="spImporte">@Html.DisplayFor(x => x.Importe)</span> €
                            </p>
                            <p>
                                <strong>@Html.DisplayNameFor(x => x.Observaciones):</strong>
                                @Html.DisplayFor(x => x.Observaciones)
                            </p>
                            
                            @*<div>
                                <br />
                                @Html.ActionLink("Volver", "Index", null, new { @class = "btn btn-default flat" })
                            </div>*@

                </div><!-- /.box-body -->
            </div><!-- /.box -->
        </div>

        <div class="col-md-8">
           @Html.Action("OrderLineCreate",new { id = Model.Num_ped})
        </div>

        <div class="ajaxPartialContents col-md-12" id="Odrlist" data-url="@Url.Action("OrderLines", new { id = Model.Num_ped })">
            <img src="~/images/indicator.white.gif" /> Cargando ...
        </div>

        @*<div class="col-md-12" id="Odrlist">
            @Html.Action("OrderLines", new { id = Model.Num_ped })
        </div>*@

    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {

        //Lobibox.notify('info',{
        //    msg: 'Hola',
        //});

        $(".ajaxPartialContents").each(function (index, item) {
            var url = $(item).data("url");
            if (url && url.length > 0) {
                $(item).load(url);
            }
        });
    });
</script>